---
title       : Analyzing Quakes Events by Using K Means Clustering
subtitle    : 
author      : Lingyun Song
job         : Project 2 for Developing Data Product Course
framework   : io2012        # {io2012, html5slides, shower, dzslides, ...}
highlighter : highlight.js  # {highlight.js, prettify, highlight}
hitheme     : tomorrow      # 
widgets     : []            # {mathjax, quiz, bootstrap}
mode        : selfcontained # {standalone, draft}
knit        : slidify::knit2slides
---

##  Goal of this project
1000 Quakes events occurred in a cube near Fiji since 1964 are analyzed by using k-means clustering method with combining 2 of 5 variables of observations. The purpose of this study is to find central areas of those earthquakes.

## Introduction of quakes dataset
Input dataset "quakes" are from R Datasets Package. They were generated by subsampling 1000  from 5000 seismic events of Richter magnitude larger than 4.0, collected by Dr. John Woodhouse at Harvard University. Quakes dataset are stored in a data frame with 1000 observations on 5 variables as following:


Column   |  Variable Names  |  Class     |    annotation 
-------  |  --------------- |  --------  |    -----------
[,1]     | lat              |  numeric   |  Latitude of event
[,2]     | long             |  numeric   |  Longitude of event
[,3]     | depth            |  numeric   |  Depth (km)
[,4]     | mag              |  numeric   |  Richter Magnitude
[,5]     | stations         |  numeric   |  Number of stations reporting 


--- 

## Algorithms

#### Clustering Algorithms
A Clustering Algorithm is a method to group a set of unlabelled data points into homogeneous classes or clusters, based on similarity.

#### K-Means Clustering
K-means is one of the simplest unsupervised learning clustering algorithms that solve the well-known clustering problem, and is popular for cluster analysis in data mining. It belongs to Partitioning Algorithms, which construct a partition of a database D of n objects into a set of k clusters. Given a number "k", K-means clustering finds a partition of k clusters that optimizes the chosen partitioning criterion. Different to another very popular method PAM, each cluster in k-means is represented by the center of the cluster.


--- 

## R Code
```{r,eval=FALSE}
library(cluster)
#Load the data into R and subset two variables "lat"" abd "long"
d <- quakes[,1:2]
# Determine clusters numbers
wgss <-  (nrow(d)-1)*sum(apply(d,2,var))
for (i in 2:10) wgss[i] <- sum(kmeans(d, centers=i)$withinss)
# K-mean clustering
clusters <- kmeans(d, 3)
#Plots
plot(1:10, wgss, type="b", xlab="Number of Clusters",ylab="Within groups sum of squares",
  main='Determination of Clusters Numbers', lwd=1.5, cex.axis=2, cex.lab=2, cex.main=2) 
clusplot(d, main ='Bivariate Clustering of Quakes Dataset',sub = '',clusters$cluster, xlab= 'lat',
  ylab = 'long', color=T, shade=T, labels=0, lines=1, lwd=1.5, cex.axis=2, cex.lab=2, cex.main=2)
```


--- &twocol
##  Clustering Analysis Result
```{r,echo=FALSE}
library(cluster)
d <- quakes[,1:2]
# Determine clusters numbers
wgss <-  (nrow(d)-1)*sum(apply(d,2,var))
for (i in 2:10) wgss[i] <- sum(kmeans(d, centers=i)$withinss)
# K-mean clustering with optimal cluster as "3" from cluster determination
clusters <- kmeans(d, 3)
```

*** =left

```{r,echo=FALSE}
plot(1:10, wgss, type="b", xlab="Number of Clusters",ylab="Within groups sum of squares", 
    main='Determination of Clusters Numbers', lwd=1.5, cex.axis=1, cex.lab=1, cex.main=1.5) 
```
*** =right

```{r,echo=FALSE}
clusplot(d, main ='Bivariate Clustering of Quakes Dataset',sub = '',clusters$cluster, xlab= 'lat',
    ylab = 'long', color=T, shade=T, labels=0, lines=1, lwd=1.5, cex.axis=1, cex.lab=1, cex.main=1.5)
```



